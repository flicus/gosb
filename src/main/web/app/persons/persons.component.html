<p-scrollTop></p-scrollTop>

<div class="card">
  <div class="flex card-container blue-container overflow-hidden">
    <div
      class="flex-grow-1 flex align-items-center justify-content-center bg-blue-500 font-bold text-white m-2 px-5 py-3 border-round">
      <p-table #dt1 [globalFilterFields]="['name']" [value]="persons" dataKey="person.id" responsiveLayout="scroll"
        styleClass="p-datatable-striped">
        <ng-template pTemplate="caption">
          <div class="person-header">
            <!--        <button pButton label="Clear" class="p-button-outlined" icon="pi pi-filter-slash" (click)="clear(dt1)"></button>-->
            <div class="p-inputgroup new-user">
              <div class="p-input-icon-left p-float-label">
                <i class="pi pi-user-plus"></i>
                <input #newPerson (keypress)="checkAndAdd($event, newPerson);" class="p-inputtext-sm" id="newPerson"
                  pInputText type="text">
                <label for="newPerson">Новый игрок</label>
              </div>
              <button (click)="addPerson(newPerson)" icon="pi pi-check" pButton type="button"></button>
            </div>
            <span class="p-input-icon-left p-float-label c-spacing">
              <i class="pi pi-search"></i>
              <input #si (input)="dt1.filterGlobal(si.value, 'contains')" id="search" pInputText type="text" />
              <label for="search">Искать по имени</label>
            </span>
          </div>
        </ng-template>
        <ng-template let-person pTemplate="body">
          <tr (click)="onSelect(person)">
            <td>
              <p-avatar icon="pi pi-user"></p-avatar>
            </td>
            <td>{{person.name}}</td>
            <td>{{person.date}}</td>
            <td>
              <button (click)="deletePerson(person.id)"
                class="p-button-rounded p-button-danger p-button-outlined p-button-sm" icon="pi pi-times" pButton
                pRipple type="button"></button>
            </td>
          </tr>
        </ng-template>
      </p-table>
    </div>
    <div *ngIf="selected"
      class="flex-grow-1 flex align-items-center justify-content-center bg-blue-500 font-bold text-white m-2 px-5 py-3 border-round">

      <h2>{{selected.name | uppercase}} Details</h2>
      <div>id: {{selected.id}}</div>
      <div>
        <label for="person-name">Person name: </label>
        <input id="person-name" [(ngModel)]="selected.name" placeholder="name">
        <label for="person-bd">Person birthday: </label>
        <input id="person-bd" [(ngModel)]="selected.date" placeholder="dd/mm/yyyy">
      </div>
      <button (click)="savePerson()" class="p-button-rounded" icon="pi pi-refresh" pButton pRipple
        type="button"></button>
      <!-- <button (click)="savePerson()" icon="pi pi-check" pButton type="button">Save</button> -->

    </div>
  </div>
</div>